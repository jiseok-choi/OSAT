## 📅 2022/04/27

<br/>

### 🏹 주간 목표

- [ ] 이력서 지원
- [ ] 스프링 입문 학습


<br/>

### 일일 체크리스트(어제 정한 목표)

- [ ] 이력서 작성
- [x] 스프링 입문 강의 수강

<br/>

### 💯 오늘 한 일

- 스프링 입문 강의 수강
- 클린코드 단위테스트 포스팅

<br/>

### 📈 내일 할 일

- 이력서 작성
- 스프링 입문 강의 수강
- 순환 참조 에러 테스트
- 사이드 프로젝트 찾아보기

<br/>

### 🧐 간단 회고

- 디펜던시 인젝션 테스트를 해보았다. 
    - 간단하게 스프링 빈 컨테이너에서 관리안되는 방식으로 컨트롤러와 서비스를 동작하게 해보았다.
    - 이런 테스트를 이제야 해보다니!
    - 내일은 순환참조 테스트를 해봐야 겠다. 생성자 의존성 주입 방식의 장점을 테스트 해보자


- 몽고 DB 쿼리를 짜면서 time 으로 sort 하는게 memory leak 이 나는 관계로 모든 document 의 $group 할 키값으로 time을 $max, value를 $last (혹은 $first) 조건으로 조회했다.
    - 정확한 쿼리가 아닐 수 있지만 RDB 와 달랐던것은 상식적으로 time 값이 최근($max) 로 그룹화 했다면 value 는 $last 든 $first 든 상관없이 그 time 에 해당하는 하나의 값만 나와야 된다고 생각했는데
    - 결과는 time과 상관없이 모든 value의 마지막($last), 첫번째($first) 값이 나온다는 것이다.
    - 때문에 시간을 sort 를 하고 out of memory 는 AllowDiskUse true 로 수행했다.
